# üîê Quick Start - Firebase Authentication

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ email/password –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### Backend
- ‚úÖ Firebase Auth middleware –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –í—Å–µ API —Ä–æ—É—Ç—ã `/api/*` –∑–∞—â–∏—â–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Public —Ä–æ—É—Ç—ã `/api/public/*` –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### Frontend
- ‚úÖ Auth Context —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ `login()`, `signup()`, `logout()`
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≤—Ö–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage
- ‚úÖ API client –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç Bearer —Ç–æ–∫–µ–Ω –∫ –∑–∞–ø—Ä–æ—Å–∞–º

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firebase Console

```bash
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://console.firebase.google.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç "planer-246d3"
3. Authentication ‚Üí Sign-in method ‚Üí Email/Password ‚Üí Enable
4. Authentication ‚Üí Settings ‚Üí Authorized domains
5. –î–æ–±–∞–≤—å—Ç–µ: planer.m-k-mendykhan.workers.dev
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev
```

### 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å

- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
- –£–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–∞–± "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
- –í–≤–µ–¥–∏—Ç–µ email, –ø–∞—Ä–æ–ª—å –∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏–º—è
- –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
- **–ü–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ email**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç:** –ü–æ—Å–ª–µ –∫–ª–∏–∫–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ https://planer.m-k-mendykhan.workers.dev/
- Email –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ì–æ—Ç–æ–≤–æ!** –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

## üìñ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

```tsx
import { useAuth } from './context/AuthContext';

function MyComponent() {
  const { user } = useAuth();
  
  return (
    <div>
      <p>Email: {user?.email}</p>
      <p>Name: {user?.displayName}</p>
      <p>ID: {user?.uid}</p>
    </div>
  );
}
```

### –°–¥–µ–ª–∞—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–π API –∑–∞–ø—Ä–æ—Å

```tsx
import { apiRequest } from './utils/api';

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç Bearer —Ç–æ–∫–µ–Ω
const data = await apiRequest('/versions');
```

### –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

```tsx
import { useAuth } from './context/AuthContext';

function LogoutButton() {
  const { logout } = useAuth();
  
  return (
    <button onClick={logout}>
      –í—ã–π—Ç–∏
    </button>
  );
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ
- **Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞** - –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –Ω–µ–ª—å–∑—è –≤–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ **–Ω–µ –º–æ–≥—É—Ç** –≤–∏–¥–µ—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–º email **–≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ** —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∏—Å—Ç–µ–∫—à–∏–º —Ç–æ–∫–µ–Ω–æ–º **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/*` **—Ç—Ä–µ–±—É—é—Ç** –≤–∞–ª–∏–¥–Ω—ã–π Firebase JWT —Ç–æ–∫–µ–Ω
- Backend **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç** —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ Firebase Admin SDK

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å
- –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é **–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω**
- –ú–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º (—Å cooldown 60 —Å–µ–∫—É–Ω–¥)
- JWT —Ç–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `localStorage` (–∫–ª—é—á: `firebase_token`)
- –¢–æ–∫–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º API –∑–∞–ø—Ä–æ—Å–µ
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞: **1 —á–∞—Å**
- –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ API

–°–º. `src/components/VersionsExample.tsx` - –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π:
- –î–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É API `/api/versions`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

### –ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —Ä–æ—É—Ç–∞

**Backend (`worker/routes/myroute.ts`):**
```typescript
import { Hono } from 'hono';
import { getFirebaseToken } from '@hono/firebase-auth';
import type { Env } from '../types';

const myroute = new Hono<{ Bindings: Env }>();

myroute.get('/data', async (c) => {
  // Get authenticated user
  const token = getFirebaseToken(c);
  console.log('User:', token.email);
  
  return c.json({ message: 'Protected data' });
});

export default myroute;
```

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `worker/index.ts`:**
```typescript
import myroute from './routes/myroute';

// –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å verifyFirebaseAuth
api.route('/myroute', myroute);
```

**Frontend:**
```typescript
import { apiRequest } from './utils/api';

const data = await apiRequest('/myroute/data');
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
worker/
‚îú‚îÄ‚îÄ index.ts              # Firebase middleware –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∑–¥–µ—Å—å
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts          # Public auth endpoints
‚îÇ   ‚îî‚îÄ‚îÄ versions.ts      # Protected endpoints (–ø—Ä–∏–º–µ—Ä)
‚îî‚îÄ‚îÄ middleware/index.ts   # Firebase Auth exports

src/
‚îú‚îÄ‚îÄ config/firebase.ts           # Firebase init
‚îú‚îÄ‚îÄ context/AuthContext.tsx      # Auth state & functions
‚îú‚îÄ‚îÄ utils/api.ts                 # API client —Å auto-auth
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ Auth/                    # Login/Signup UI
    ‚îú‚îÄ‚îÄ ProtectedRoute.tsx       # Route guard
    ‚îî‚îÄ‚îÄ VersionsExample.tsx      # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
```

## üêõ Troubleshooting

**Q: –ù–µ –º–æ–≥—É –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è**
- A: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Email/Password –≤–∫–ª—é—á–µ–Ω –≤ Firebase Console
- A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–∞—Ä–æ–ª—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤

**Q: "Unauthorized" –ø—Ä–∏ API –∑–∞–ø—Ä–æ—Å–∞—Ö**
- A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `localStorage.getItem('firebase_token')`
- A: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
- A: –û—Ç–∫—Ä–æ–π—Ç–µ Network tab –≤ DevTools –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `Authorization` header

**Q: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è**
- A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `src/main.tsx` - —Ç–∞–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `<ProtectedRoute>`

**Q: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**
- A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏ Firebase
- A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Firebase config –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `src/config/firebase.ts`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `AUTH_SETUP.md`
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `API.md`
- Firebase Docs: https://firebase.google.com/docs/auth

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ü—Ä–æ—Å—Ç–æ –≤–∫–ª—é—á–∏—Ç–µ Email/Password –≤ Firebase Console –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!

